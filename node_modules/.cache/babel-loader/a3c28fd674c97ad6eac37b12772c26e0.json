{"remainingRequest":"/Users/toni/Desktop/Code/vwork/udemy-repeat/http-request/node_modules/babel-loader/lib/index.js!/Users/toni/Desktop/Code/vwork/udemy-repeat/http-request/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/toni/Desktop/Code/vwork/udemy-repeat/http-request/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/toni/Desktop/Code/vwork/udemy-repeat/http-request/src/components/survey/UserExperiences.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/toni/Desktop/Code/vwork/udemy-repeat/http-request/src/components/survey/UserExperiences.vue","mtime":1611171557828},{"path":"/Users/toni/Desktop/Code/vwork/udemy-repeat/http-request/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/toni/Desktop/Code/vwork/udemy-repeat/http-request/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/toni/Desktop/Code/vwork/udemy-repeat/http-request/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/toni/Desktop/Code/vwork/udemy-repeat/http-request/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgU3VydmV5UmVzdWx0IGZyb20gJy4vU3VydmV5UmVzdWx0LnZ1ZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBTdXJ2ZXlSZXN1bHQ6IFN1cnZleVJlc3VsdAogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHJlc3VsdHM6IFtdLAogICAgICBpc0xvYWRpbmc6IGZhbHNlLAogICAgICBlcnJvcjogbnVsbAogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmxvYWRFeHAoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGxvYWRFeHA6IGZ1bmN0aW9uIGxvYWRFeHAoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLmlzTG9hZGluZyA9IHRydWU7CiAgICAgIHRoaXMuZXJyb3IgPSBudWxsOwogICAgICBmZXRjaCgnaHR0cHM6Ly92dWUtaHR0cC1hZWE5Zi1kZWZhdWx0LXJ0ZGIuZmlyZWJhc2Vpby5jb20vc3VydmV5cy5qc29uJykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBpZiAocmVzcG9uc2Uub2spIHsKICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7CiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgX3RoaXMuaXNMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgdmFyIHJlc3VsdHMgPSBbXTsKCiAgICAgICAgZm9yICh2YXIgaWQgaW4gZGF0YSkgewogICAgICAgICAgcmVzdWx0cy5wdXNoKHsKICAgICAgICAgICAgaWQ6IGlkLAogICAgICAgICAgICBuYW1lOiBkYXRhW2lkXS5uYW1lLAogICAgICAgICAgICByYXRpbmc6IGRhdGFbaWRdLnJhdGluZwogICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICBfdGhpcy5yZXN1bHRzID0gcmVzdWx0czsKICAgICAgfSlbImNhdGNoIl0oZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgX3RoaXMuaXNMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgIF90aGlzLmVycm9yID0gIkZhaWxlZCB0byBmZXRjaCBkYXRhLiI7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["/Users/toni/Desktop/Code/vwork/udemy-repeat/http-request/src/components/survey/UserExperiences.vue"],"names":[],"mappings":";;AA0BA,OAAO,YAAP,MAAyB,oBAAzB;AAEA,eAAe;AACb,EAAA,UAAU,EAAE;AACV,IAAA,YAAY,EAAZ;AADU,GADC;AAIb,EAAA,IAJa,kBAIP;AACJ,WAAM;AACJ,MAAA,OAAO,EAAE,EADL;AAEJ,MAAA,SAAS,EAAE,KAFP;AAGJ,MAAA,KAAK,EAAE;AAHH,KAAN;AAKD,GAVY;AAWb,EAAA,OAXa,qBAWJ;AACP,SAAK,OAAL;AACD,GAbY;AAcb,EAAA,OAAO,EAAC;AACN,IAAA,OADM,qBACG;AAAA;;AACP,WAAK,SAAL,GAAiB,IAAjB;AACA,WAAK,KAAL,GAAa,IAAb;AACA,MAAA,KAAK,CAAC,iEAAD,CAAL,CACC,IADD,CACM,UAAC,QAAD,EAAc;AAClB,YAAG,QAAQ,CAAC,EAAZ,EAAe;AACb,iBAAO,QAAQ,CAAC,IAAT,EAAP;AACF;AACD,OALD,EAKG,IALH,CAKQ,UAAC,IAAD,EAAU;AAChB,QAAA,KAAI,CAAC,SAAL,GAAiB,KAAjB;AACA,YAAM,OAAM,GAAI,EAAhB;;AAEA,aAAI,IAAM,EAAV,IAAgB,IAAhB,EAAqB;AACnB,UAAA,OAAO,CAAC,IAAR,CAAa;AAAC,YAAA,EAAE,EAAC,EAAJ;AAAQ,YAAA,IAAI,EAAE,IAAI,CAAC,EAAD,CAAJ,CAAS,IAAvB;AAA8B,YAAA,MAAM,EAAE,IAAI,CAAC,EAAD,CAAJ,CAAS;AAA/C,WAAb;AACF;;AAEA,QAAA,KAAI,CAAC,OAAL,GAAe,OAAf;AACD,OAdD,WAcS,UAAC,KAAD,EAAW;AAClB,QAAA,KAAI,CAAC,SAAL,GAAiB,KAAjB;AACA,QAAA,OAAO,CAAC,GAAR,CAAY,KAAZ;AACA,QAAA,KAAI,CAAC,KAAL,GAAa,uBAAb;AACD,OAlBD;AAmBF;AAvBM;AAdK,CAAf","sourcesContent":["<template>\n  <section>\n    <base-card>\n      <h2>Submitted Experiences</h2>\n      <div>\n        <base-button @click=\"loadExp\">Load Submitted Experiences</base-button>\n      </div>\n      <p v-if=\"isLoading\">Loading...</p>\n      <p v-else-if=\"!isLoading && error\">\n        {{error}}\n      </p>\n      <p v-else-if=\"!isLoading && (!results || results.length === 0)\">No stored experiences found. Start adding some survey results</p>\n      \n      <ul v-if=\"!isLoading && results && results.length > 0\">\n        <survey-result\n          v-for=\"result in results\"\n          :key=\"result.id\"\n          :name=\"result.name\"\n          :rating=\"result.rating\"\n        ></survey-result>\n      </ul>\n    </base-card>\n  </section>\n</template>\n\n<script>\nimport SurveyResult from './SurveyResult.vue';\n\nexport default {\n  components: {\n    SurveyResult,\n  },\n  data(){\n    return{\n      results: [],\n      isLoading: false,\n      error: null\n    }\n  },\n  mounted(){\n    this.loadExp()\n  },\n  methods:{\n    loadExp(){\n      this.isLoading = true\n      this.error = null\n      fetch('https://vue-http-aea9f-default-rtdb.firebaseio.com/surveys.json')\n      .then((response) => {\n        if(response.ok){\n          return response.json()\n        }\n      }).then((data) => {\n        this.isLoading = false\n        const results = [];\n\n        for(const id in data){\n          results.push({id:id, name: data[id].name , rating: data[id].rating})\n        }\n\n        this.results = results\n      }).catch((error) => {\n        this.isLoading = false\n        console.log(error)\n        this.error = \"Failed to fetch data.\"\n      })\n    }\n  }\n};\n</script>\n\n<style scoped>\nul {\n  list-style: none;\n  margin: 0;\n  padding: 0;\n}\n</style>"],"sourceRoot":""}]}